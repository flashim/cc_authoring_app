(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(48)},26:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(20),r=n.n(s),o=(n(26),n(1)),l=n(2),c=n(5),u=n(4),h=n(6),d={EDIT_TITLE:"EDIT_TITLE",EDIT_QUESTION:"EDIT_QUESTION",DEFAULT:"DEFAULT"},m=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"hasDuplicates",value:function(e){return new Set(e).size!==e.length}},{key:"remove",value:function(e,t){var n=e.indexOf(t);e.splice(n,1)}},{key:"removeAtIndex",value:function(e,t){e.splice(t,1)}}]),e}(),E=n(14),v=n(38),f=(n(40),E.createActions(["proceed","editTitle","confirmedEditTitle","prev","next","confirmedPrev","deleteQuestion","confirmedDeleteQuestion","draft","confirmDraft","save","publish","closeError"])),k=E.createActions(["stateTo"]),p=E.createActions(["error","changeField","changeBulkQuestionField","changeQuestionField","changeSkillField","changeOptionField","changeOptionCorrect"]),g={GAME_TITLE:"Please enter a game title",GAME_DESC:"Please enter game description",QUESTION:"Please enter a question",OPTION_MIN:"Please enter minimum 2 options",OPTION_CORRECT:"Please select 1 correct option for question number ",OPTION_DIFF:"Please write different options.",DELETE_QUESTION:"Click ok to delete this question",UNSAVED_QUESTION:"Complete you unsaved question before proceeding",UNEDITED_QUESTION:"You have some un-edited question. Please complete them before publishing.",PUBLISH_QUESTION:"To publish this game, you require to have 24 questions (2 teams x 2 innings x 1 over/innings)",PUBLISH_GAME:"Do you want to publish game?",DRAFT_GAME:"Click ok to save the game in draft mode"},b={OPTIONS_REQUIRED:2,QUESTIONS_REQUIRED:24},O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={editGame:!1,compState:d.DEFAULT,qIndex:0,qBank:[],qArr:[""],fields:{skill:"",gTitle:"",gDesc:"Score the maximum number of runs as quickly as you can to win the cricket championship! You need to play two innings. Simply choose the correct option from the ones given and click Strike. For a correct response, you score runs. The faster you respond, the more runs you score. For an incorrect response, you lose a wicket. Are you a cricket star? Let's find out!",qData:""},error:{theme:"popup-box-orange",show:!1,msg:"",ok:!0,okFunc:"",cancel:!1,cancelFunc:""}},e.listenables=[f,k,p],e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"isFormValid",value:function(e){var t=!0;if(""===this.state.fields[e]){t=!1;var n="gTitle"===e?g.GAME_TITLE:g.GAME_DESC;p.error(n)}return t}},{key:"isQuestionValid",value:function(e){var t=!0;return""===this.state.qBank[this.state.qIndex].qtag&&(t=!1,e&&p.error(g.QUESTION)),t}},{key:"isOptionsValid",value:function(e){var t=!0,n=this.state.qBank,a=!1,i=[];return n[this.state.qIndex].options.forEach(function(e,t){""!==e.txt&&i.push(e.txt),e.correctans&&(a=!0)}),i.length<b.OPTIONS_REQUIRED?(t=!1,e&&p.error(g.OPTION_MIN),t):a?m.hasDuplicates(i)?(t=!1,e&&p.error(g.OPTION_DIFF),t):t:(t=!1,e&&p.error(g.OPTION_CORRECT+(this.state.qIndex+1)),t)}},{key:"isQuestionSetValid",value:function(e){return this.isQuestionValid(e)&&this.isOptionsValid(e)}},{key:"createQuestionObject",value:function(){var e=this.state.qIndex<this.state.qArr.length?this.state.qArr[this.state.qIndex]:"";return{qtag:unescape(e),options:[{txt:"",correctans:!1},{txt:"",correctans:!1},{txt:"",correctans:!1},{txt:"",correctans:!1}]}}},{key:"addBlankQuestionToBank",value:function(){var e=this.state.qBank;e.push(this.createQuestionObject()),this.setState({qBank:e})}},{key:"setErrorObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"closeError",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"popup-box-orange";this.setState({error:{theme:i,show:!0,msg:e,ok:!0,okFunc:t,cancel:n,cancelFunc:a}})}},{key:"deleteUnsavedQuestion",value:function(){var e=this.state.qBank;e.pop(),this.setState({qBank:e})}},{key:"saveXMLFile",value:function(e,t){var n=new Blob([t],{type:"text/xml"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=e,window.open(a),a.click()}},{key:"onProceed",value:function(e){e.preventDefault(),this.isFormValid("gTitle")&&this.isFormValid("gDesc")&&(0===this.state.qBank.length&&void 0===this.state.qBank[0]&&(this.setState({editGame:!0}),this.addBlankQuestionToBank()),k.stateTo(d.EDIT_QUESTION))}},{key:"onEditTitle",value:function(){this.isQuestionSetValid(!1)||0===this.state.qIndex?k.stateTo(d.EDIT_TITLE):this.setErrorObject(g.UNSAVED_QUESTION)}},{key:"onConfirmedEditTitle",value:function(){}},{key:"onPrev",value:function(){this.isQuestionSetValid(!1)?this.setState({qIndex:--this.state.qIndex}):this.setErrorObject(g.UNSAVED_QUESTION)}},{key:"onConfirmedPrev",value:function(){}},{key:"onNext",value:function(){this.isQuestionSetValid(!0)&&(this.setState({qIndex:++this.state.qIndex}),this.state.qIndex===this.state.qBank.length&&this.addBlankQuestionToBank())}},{key:"onDeleteQuestion",value:function(){this.setErrorObject(g.DELETE_QUESTION,"confirmedDeleteQuestion",!0,"closeError")}},{key:"onConfirmedDeleteQuestion",value:function(){var e=Object.assign({},this.state);m.removeAtIndex(e.qBank,e.qIndex),0!==e.qIndex&&e.qIndex--,this.setState(e),this.onCloseError()}},{key:"onDraft",value:function(){this.setErrorObject(g.DRAFT_GAME,"confirmDraft",!0,"closeError","popup-box-green")}},{key:"onConfirmDraft",value:function(){this.onCloseError()}},{key:"onSave",value:function(){if(this.isQuestionSetValid(!0)){if(this.state.qBank.length<this.state.qArr.length)return void this.setErrorObject(g.UNEDITED_QUESTION);if(this.state.qBank.length<b.QUESTIONS_REQUIRED)return void this.setErrorObject(g.PUBLISH_QUESTION);this.setErrorObject(g.PUBLISH_GAME,"publish",!0,"closeError","popup-box-green")}}},{key:"onPublish",value:function(){var e=this;this.onCloseError();var t=new v;t.startDocument(),t.startElement("GameContent"),t.writeAttribute("id","game-498c6f09-fa75-474b-99d0-9bbfe97c78d6"),t.writeAttribute("gameTemplateId","GT-cc001-en"),t.writeAttribute("skinId","bb001"),t.startElement("metadata"),t.startElement("keywords"),t.text("Algebraic expressions, polynomials, operations on polynomials, binomial, degree, product, coefficient, expansion, zero"),t.endElement(),t.startElement("title"),t.text(this.state.fields.gTitle),t.endElement(),t.startElement("description"),t.text("Completing sentences"),t.endElement(),t.startElement("language"),t.text("English"),t.endElement(),t.startElement("gameRules"),t.writeAttribute("teamMode","true"),t.writeAttribute("timerMode","true"),t.writeAttribute("passMode","false"),t.writeAttribute("randamizeQmode","false"),t.endElement(),t.startElement("dependent"),t.startElement("file"),t.writeAttribute("src"," "),t.endElement(),t.endElement(),t.endElement(),t.startElement("Gamedata"),t.startElement("GameEdge"),t.startElement("descriptionTxt"),t.writeCData(this.state.fields.gDesc),t.endElement(),t.startElement("game"),t.writeAttribute("template"," "),t.writeAttribute("variation","addbubbles"),t.startElement("templatesettings"),t.endElement(),t.startElement("questions"),this.state.qBank.forEach(function(n,a){t.startElement("question"),t.writeAttribute("skill",e.state.fields.skill),t.startElement("qtag"),t.writeCData(n.qtag),t.endElement(),n.options.forEach(function(e){""!==e.txt&&(t.startElement("option"),e.correctans&&t.writeAttribute("correctans","true"),t.writeCData(e.txt),t.endElement())}),t.endElement()}),t.endElement(),t.endDocument(),this.saveXMLFile("cricketchallenge.xml",t.toString())}},{key:"onCloseError",value:function(){var e=this.state.error;e.show=!1,this.setState(e)}},{key:"onError",value:function(e){this.setErrorObject(e)}},{key:"onStateTo",value:function(e){this.setState({compState:e})}},{key:"onChangeField",value:function(e,t){var n=this.state.fields;n[e]=t,this.setState(n)}},{key:"onChangeBulkQuestionField",value:function(e,t){var n=Object.assign({},this.state);n.fields=this.state.fields,n.fields[e]=t,n.qArr=escape(this.state.fields.qData).split("%0A"),this.setState(n)}},{key:"onChangeQuestionField",value:function(e){var t=this.state.qBank;t[this.state.qIndex].qtag=e,this.setState(t)}},{key:"onChangeOptionField",value:function(e,t){var n=this.state.qBank;n[this.state.qIndex].options[e].txt=t,this.setState(n)}},{key:"onChangeOptionCorrect",value:function(e){var t=this.state.qBank;t[this.state.qIndex].options.forEach(function(t,n){t.correctans=n===e}),this.setState(t)}}]),t}(E.Store),T=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).store=O,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e,t){p.changeField(e,t.target.value)}},{key:"handleBulkQuestionChange",value:function(e,t){p.changeBulkQuestionField(e,t.target.value)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container",id:"default"},i.a.createElement("div",{className:"game-auth"},i.a.createElement("div",{className:"top-header"},i.a.createElement("h4",null,"Game Authoring - Cricket Challenge")),i.a.createElement("div",{className:"middlecontent"},i.a.createElement("div",{className:"game-title"},i.a.createElement("h4",null,"Game Title"),i.a.createElement("div",{className:"requiredfields"},"(Required)"),i.a.createElement("input",{refs:"gTitle",type:"text",onChange:this.handleChange.bind(this,"gTitle"),value:this.state.fields.gTitle})),i.a.createElement("div",{className:"game-des"},i.a.createElement("h4",null,"Game Description"),i.a.createElement("div",{className:"requiredfields"},"(Required)"),i.a.createElement("textarea",{refs:"gDesc",type:"text",onChange:this.handleChange.bind(this,"gDesc"),value:this.state.fields.gDesc,rows:"5",cols:"70"})),i.a.createElement("div",{className:this.state.editGame?"hide":"questionblock"},i.a.createElement("h4",null,"Enter or Copy-Paste all your Questions."),i.a.createElement("div",{className:"optionalfields"},"(Optional)"),i.a.createElement("div",{className:"copypastearea"},i.a.createElement("div",{className:"num-stepper"},i.a.createElement("ol",null,this.state.qArr.map(function(e,t){return i.a.createElement("li",{key:t})}))),i.a.createElement("textarea",{type:"text",name:"message",onChange:this.handleBulkQuestionChange.bind(this,"qData"),value:this.state.fields.qData,rows:"5",cols:"100"})),i.a.createElement("h5",null,"(You can collectively enter all your questions and click Proceed to select the distractors and correct answer.)"))),i.a.createElement("div",{className:"footer"},i.a.createElement("button",{className:"btn",onClick:function(e){f.proceed(e)}},"Proceed \u02c3"))))}}]),t}(E.Component),I=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).store=O,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleQuestionChange",value:function(e){p.changeQuestionField(e.target.value)}},{key:"handleSkillChange",value:function(e,t){p.changeField(e,t.target.value)}},{key:"handleOptionTextChange",value:function(e,t){p.changeOptionField(e,t.target.value)}},{key:"handleRadioChange",value:function(e){p.changeOptionCorrect(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container",id:"editquestion"},i.a.createElement("div",{className:"game-auth-nxtpage"},i.a.createElement("div",{className:"top-header"},i.a.createElement("h4",null,"Game Authoring - Cricket Challenge"),i.a.createElement("button",{className:"btn",onClick:function(){f.editTitle()}},"Edit Title & Description")),i.a.createElement("div",{className:"section"},i.a.createElement("div",{className:"left-question-panel"},i.a.createElement("p",null,"Question Number: ",this.state.qIndex+1)),i.a.createElement("div",{className:"middlecontent-nxtpage"},i.a.createElement("div",{className:"game-title"},i.a.createElement("h4",null,"Question Stem"),i.a.createElement("input",{type:"text",onChange:this.handleQuestionChange.bind(this),value:this.state.qBank[this.state.qIndex].qtag})),i.a.createElement("div",{className:"game-des"},i.a.createElement("h4",null,"Instruction to Students"),i.a.createElement("input",{type:"text",value:this.state.fields.skill,onChange:this.handleSkillChange.bind(this,"skill")})),i.a.createElement("div",{className:"questionblock"},i.a.createElement("h4",null,"Answer Choices"),i.a.createElement("h5",null,"Please also select one choice as the correct answer, by clicking on ",i.a.createElement("input",{type:"radio"})," next to it.")),i.a.createElement("form",null,i.a.createElement("div",{className:"answer-option"},i.a.createElement("ul",null,this.state.qBank[this.state.qIndex].options.map(function(t,n){return i.a.createElement("div",{key:n},i.a.createElement("input",{type:"radio",checked:t.correctans,onChange:e.handleRadioChange.bind(e,n),disabled:""===t.txt}),i.a.createElement("input",{type:"text",value:t.txt,onChange:e.handleOptionTextChange.bind(e,n)}))})))))),i.a.createElement("div",{className:"footer-nxtpage"},i.a.createElement("div",{className:"nav-btn"},i.a.createElement("button",{className:0===this.state.qIndex?"disabled":"btn",onClick:function(){0!==e.state.qIndex&&f.prev()}},"\u02c2 Previous Question"),"\xa0\xa0",i.a.createElement("button",{className:"btn",onClick:function(){f.next()}},"Next Question \u02c3")),i.a.createElement("div",{className:"rightsidebtn"},i.a.createElement("button",{className:this.state.qBank.length>1?"btn":"hide",onClick:function(){f.deleteQuestion()}},"Delete this Question"),"\xa0\xa0",i.a.createElement("button",{className:"btn",onClick:function(){f.draft()}},"Save As Draft"),"\xa0\xa0",i.a.createElement("button",{className:"btn",onClick:function(){f.save()}},"Save")))))}}]),t}(E.Component),y=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).store=O,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"okClick",value:function(e){f[this.state.error.okFunc]()}},{key:"cancelClick",value:function(e){f[this.state.error.cancelFunc]()}},{key:"render",value:function(){return this.state.error.show?i.a.createElement("div",{className:"popup-window"},i.a.createElement("div",{className:this.state.error.theme},i.a.createElement("h5",null,this.state.error.msg),i.a.createElement("div",{className:"bottom-btn"},i.a.createElement("button",{className:"okbtn",onClick:this.okClick.bind(this)},"Ok"),i.a.createElement("button",{className:this.state.error.cancel?"cancelbtn":"hide",onClick:this.cancelClick.bind(this)},"Cancel")))):null}}]),t}(E.Component),q=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).store=O,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getComponent",value:function(){var e;switch(this.state.compState){case d.EDIT_TITLE:e=i.a.createElement(T,null);break;case d.EDIT_QUESTION:e=i.a.createElement(I,null);break;default:e=i.a.createElement(T,null)}return e}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",null,this.getComponent()),i.a.createElement(y,null))}}]),t}(n(14).Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.0703af9e.chunk.js.map